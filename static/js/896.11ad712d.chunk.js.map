{"version":3,"file":"static/js/896.11ad712d.chunk.js","mappings":"gRA2DA,EAhDiB,SAAC,GAAc,IAAZA,EAAW,EAAXA,KAClB,GAAwBC,EAAAA,EAAAA,UAAS,GAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA4BJ,EAAAA,EAAAA,UAAS,IAArC,eAAOK,EAAP,KAAeC,EAAf,KACA,GAA0BN,EAAAA,EAAAA,UAAS,GAAnC,eAAOO,EAAP,KAAcC,EAAd,KA4BA,OAhBAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,MAAsBC,MAAK,gBAAGC,EAAH,EAAGA,QAAH,OAAiBN,EAAUM,EAA3B,GAC5B,GAAE,KAEHH,EAAAA,EAAAA,YAAU,WACHN,IAGLU,EAAAA,EAAAA,IAAmBV,EAAOF,GAAMU,MAAK,YAAiC,IAA9BC,EAA6B,EAA7BA,QAASE,EAAoB,EAApBA,cAC3CA,IACFR,GAAU,SAAAS,GAAU,wBAAQA,IAAR,OAAuBH,GAAvB,IACpBJ,EAASM,GAEZ,GACF,GAAE,CAACb,EAAME,KAGR,SAAC,KAAD,WACE,SAAC,KAAD,WACE,UAAC,KAAD,YACE,4CACA,SAACa,EAAA,EAAD,CAAWC,SA/BG,SAAAd,GACpBC,EAASD,GACTD,EAAQ,GACRI,EAAU,GACX,KA4BO,SAACY,EAAA,EAAD,CAAWC,MAAOd,EAAQN,KAAMA,IAC/BM,EAAOe,OAASb,IACf,SAACc,EAAA,EAAD,CAAgBC,QA5BF,WACtBpB,GAAQ,SAAAqB,GAAQ,OAAIA,EAAW,CAAf,GACjB,UAgCF,C","sources":["pages/TVSeries/TVSeries.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { getTrendingTVSeries, getTVSeriesByQuery } from 'services/tmdbApi';\nimport { SearchBar } from 'components/SearchBar';\nimport { MovieList } from 'components/MovieList';\nimport { LoadMoreButton } from 'components/LoadMoreButton';\nimport {\n  MoviesWrapper,\n  Container,\n  InnerWrapper,\n} from 'pages/Movies/Movies.styled';\n\nconst TVSeries = ({ type }) => {\n  const [page, setPage] = useState(1);\n  const [query, setQuery] = useState('');\n  const [series, setSeries] = useState([]);\n  const [total, setTotal] = useState(0);\n\n  const submitHandler = query => {\n    setQuery(query);\n    setPage(1);\n    setSeries([]);\n  };\n\n  const loadMoreHandler = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  useEffect(() => {\n    getTrendingTVSeries().then(({ results }) => setSeries(results));\n  }, []);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    getTVSeriesByQuery(query, page).then(({ results, total_results }) => {\n      if (total_results) {\n        setSeries(prevSeries => [...prevSeries, ...results]);\n        setTotal(total_results);\n      }\n    });\n  }, [page, query]);\n\n  return (\n    <MoviesWrapper>\n      <Container>\n        <InnerWrapper>\n          <h1>Trending today</h1>\n          <SearchBar onSubmit={submitHandler} />\n          <MovieList items={series} type={type} />\n          {series.length < total && (\n            <LoadMoreButton onClick={loadMoreHandler} />\n          )}\n        </InnerWrapper>\n      </Container>\n    </MoviesWrapper>\n  );\n};\n\nexport default TVSeries;\n"],"names":["type","useState","page","setPage","query","setQuery","series","setSeries","total","setTotal","useEffect","getTrendingTVSeries","then","results","getTVSeriesByQuery","total_results","prevSeries","SearchBar","onSubmit","MovieList","items","length","LoadMoreButton","onClick","prevPage"],"sourceRoot":""}