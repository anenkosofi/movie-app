{"version":3,"file":"static/js/588.346fac24.chunk.js","mappings":"gRAuDA,EAhDe,SAAC,GAAc,IAAZA,EAAW,EAAXA,KAChB,GAAwBC,EAAAA,EAAAA,UAAS,GAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA4BJ,EAAAA,EAAAA,UAAS,IAArC,eAAOK,EAAP,KAAeC,EAAf,KACA,GAA0BN,EAAAA,EAAAA,UAAS,GAAnC,eAAOO,EAAP,KAAcC,EAAd,KA4BA,OAhBAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,MAAoBC,MAAK,gBAAGC,EAAH,EAAGA,QAAH,OAAiBN,EAAUM,EAA3B,GAC1B,GAAE,KAEHH,EAAAA,EAAAA,YAAU,WACHN,IAGLU,EAAAA,EAAAA,IAAgBV,EAAOF,GAAMU,MAAK,YAAiC,IAA9BC,EAA6B,EAA7BA,QAASE,EAAoB,EAApBA,cACxCA,IACFR,GAAU,SAAAS,GAAU,wBAAQA,IAAR,OAAuBH,GAAvB,IACpBJ,EAASM,GAEZ,GACF,GAAE,CAACb,EAAME,KAGR,SAAC,KAAD,WACE,SAAC,KAAD,WACE,UAAC,KAAD,YACE,4CACA,SAACa,EAAA,EAAD,CAAWC,SA/BG,SAAAd,GACpBC,EAASD,GACTD,EAAQ,GACRI,EAAU,GACX,KA4BO,SAACY,EAAA,EAAD,CAAWC,MAAOd,EAAQN,KAAMA,IAC/BM,EAAOe,OAASb,IACf,SAACc,EAAA,EAAD,CAAgBC,QA5BF,WACtBpB,GAAQ,SAAAqB,GAAQ,OAAIA,EAAW,CAAf,GACjB,UAgCF,C","sources":["pages/Movies/Movies.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { getTrendingMovies, getMovieByQuery } from 'services/tmdbApi';\nimport { SearchBar } from 'components/SearchBar';\nimport { MovieList } from 'components/MovieList';\nimport { LoadMoreButton } from 'components/LoadMoreButton';\nimport { MoviesWrapper, Container, InnerWrapper } from './Movies.styled';\n\nconst Movies = ({ type }) => {\n  const [page, setPage] = useState(1);\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [total, setTotal] = useState(0);\n\n  const submitHandler = query => {\n    setQuery(query);\n    setPage(1);\n    setMovies([]);\n  };\n\n  const loadMoreHandler = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  useEffect(() => {\n    getTrendingMovies().then(({ results }) => setMovies(results));\n  }, []);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    getMovieByQuery(query, page).then(({ results, total_results }) => {\n      if (total_results) {\n        setMovies(prevMovies => [...prevMovies, ...results]);\n        setTotal(total_results);\n      }\n    });\n  }, [page, query]);\n\n  return (\n    <MoviesWrapper>\n      <Container>\n        <InnerWrapper>\n          <h1>Trending today</h1>\n          <SearchBar onSubmit={submitHandler} />\n          <MovieList items={movies} type={type} />\n          {movies.length < total && (\n            <LoadMoreButton onClick={loadMoreHandler} />\n          )}\n        </InnerWrapper>\n      </Container>\n    </MoviesWrapper>\n  );\n};\n\nexport default Movies;\n"],"names":["type","useState","page","setPage","query","setQuery","movies","setMovies","total","setTotal","useEffect","getTrendingMovies","then","results","getMovieByQuery","total_results","prevMovies","SearchBar","onSubmit","MovieList","items","length","LoadMoreButton","onClick","prevPage"],"sourceRoot":""}